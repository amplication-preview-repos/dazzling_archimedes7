datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Repository {
  createdAt    DateTime      @default(now())
  id           String        @id @default(cuid())
  name         String?
  pullRequests PullRequest[]
  updatedAt    DateTime      @updatedAt
  webhookUrl   String?
}

model PullRequest {
  comments     Comment[]
  createdAt    DateTime    @default(now())
  id           String      @id @default(cuid())
  repository   Repository? @relation(fields: [repositoryId], references: [id])
  repositoryId String?
  title        String?
  updatedAt    DateTime    @updatedAt
}

model Comment {
  author        String?
  content       String?
  createdAt     DateTime           @default(now())
  id            String             @id @default(cuid())
  pullRequest   PullRequest?       @relation(fields: [pullRequestId], references: [id])
  pullRequestId String?
  source        EnumCommentSource?
  updatedAt     DateTime           @updatedAt
}

enum EnumCommentSource {
  Option1
}
